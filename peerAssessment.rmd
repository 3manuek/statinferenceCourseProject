---
title: "Statistical Inference Course Project"
author: "Emanuel Calvo"
date: "October 1, 2015"
output: html_document
---


## Overview

## Part "A"

In this project you will investigate the exponential distribution in R and compare it with the Central Limit Theorem. The exponential distribution can be simulated in R with *rexp(n, lambda)* where lambda is the rate parameter. The mean of exponential distribution is 1/lambda and the standard deviation is also 1/lambda. Set lambda = 0.2 for all of the simulations. You will investigate the distribution of averages of 40 exponentials. Note that you will need to do a thousand simulations.

Illustrate via simulation and associated explanatory text the properties of the distribution of the mean of 40 exponentials.  You should
1. Show the sample mean and compare it to the theoretical mean of the distribution.
2. Show how variable the sample is (via variance) and compare it to the theoretical variance of the distribution.
3. Show that the distribution is approximately normal.

In point 3, focus on the difference between the distribution of a large collection of random exponentials and the distribution of a large collection of averages of 40 exponentials. 


## Simulations

The code bellow, creates a vector of means of a exponentionaly distributed random variables, generated by the function `rexp`. In this particular case, in order to help the repeteability of the current code, you'll see the `set.seed` function which is in charge of set a fixed seed. 

```{r , cache=FALSE}
set.seed(600)

n = 40
lambda = 0.2

mns = NULL
simulations <- 1000

meanRExp <- function(x){
  mean(rexp(n, lambda))
}

mns <- sapply(seq(1,simulations), meanRExp)
cumVar <- sapply(seq(1,simulations), function(x){var(rexp(n, lambda))})

```



Means summary:


```{r, message=FALSE} 
summary(mns)
```


### Sample Mean and Theorical Mean

For the current scenario, we must consider the following as the theorical mean of a exponential distribution:

$$ \frac{1}{\lambda} = \frac{1}{0.2} = 5 $$


The sample mean can be calculated using:

```{r, echo=TRUE}
distMean <- mean(mns)
```

The center of the sample distribution for the current study is  `r distMean`. This is very closer to the theorical mean defined above.


### Theorical and Sample Variances

The theorical standard deviation of a exponential distibution will look like the following expression:

$$ \frac{\frac{1}{\lambda}}{\sqrt{n}} = \frac{\frac{1}{0.2}}{\sqrt{40}} \simeq .790 $$

The sample's standard deviation 

```{r, message=TRUE}
sampleSd <- sd(mns)
sampleSd
```

The theorical expected variance is represented by:

$$ ( \frac{\frac{1}{\lambda}}{\sqrt{n}} ) ^ 2 = ( \frac{\frac{1}{0.2}}{\sqrt{40}} ) ^ 2  = .625 $$

Sample variance is:

```{r, message=TRUE}
tVar = ((1/lambda) / sqrt(n) ) ^ 2 
var(mns)
```

> As we observ, we were able to calculate approximately the variance.

The following graph shows how the cummulative variance converges on the theorical variance expected:

```{r}
cumVars <- cumsum(cumVar)/(1:simulations)
meanCumVars <- mean(cumVars)
plot( cumVars, type = "l" )
abline(h = meanCumVars, col = "red" )
```

### Show that the distribution is approximately normal

The graph bellow shows a bell courve as a result of the normal distribution function using the mean of all the sample means and the standard deviation by result of the following formula:

$$ \sqrt{var(X)}$$

```{r, message=TRUE, echo=TRUE}

m<-mean(mns)
std<-sqrt(var(mns))

hist(mns, density=20, breaks=20, prob=TRUE, 
         xlab="Density",  
         main="Distribution over sample means")
curve(dnorm(x, mean=m, sd=std), 
          col="darkblue", lwd=2, add=TRUE, yaxt="n")
abline(v = 5, col="red")
abline(v = distMean, col = "green")    

legend("topright", pch = c(3,3) , 
        col = c("green", "red"), 
        legend = c("Sample Mean", "Theorical Mean"))

```


## Part B


Now in the second portion of the class, we're going to analyze the ToothGrowth data in the R datasets package. 

    Load the ToothGrowth data and perform some basic exploratory data analyses 
    Provide a basic summary of the data.
    
```{r}
summary(ToothGrowth)
```

    Use confidence intervals and/or hypothesis tests to compare tooth growth by supp and dose. (Only use the techniques from class, even if there's other approaches worth considering)


    State your conclusions and the assumptions needed for your conclusions. 

Some criteria that you will be evaluated on

    Did you  perform an exploratory data analysis of at least a single plot or table highlighting basic features of the data?

    Did the student perform some relevant confidence intervals and/or tests?

    Were the results of the tests and/or intervals interpreted in the context of the problem correctly? 

    Did the student describe the assumptions needed for their conclusions?

